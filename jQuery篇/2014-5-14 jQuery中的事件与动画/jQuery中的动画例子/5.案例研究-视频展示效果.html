<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>jQuery 视频切换代码示例</title>

<link href="../css/style.css" rel="stylesheet" type="text/css" />

<!-- 引入 jQuery -->
<script src="../scripts/jquery-1.3.1.js" type="text/javascript"></script>

<script type="text/javascript">
	$(document).ready(function() {
		// 初始化当前版面数为1
		var page = 1;
		// 每一页视频个数
		var i = 4;
		
		// 步骤1：初始化HTML及样式控制
		// 步骤2：为下一页按钮添加单击事件
		$("span.next").click(function() {
			var $v_show = $(".v_content_list");
			var $v_content = $(".v_content");
			// 获得视频展示区域的长度
			var v_width = $v_content.width();
			// 总的视频图片数
			var len = $v_show.find("li").length;
			// 页数
			var page_count = Math.ceil(len / i);
			
			// 判断“视频内容展示区域”是否处于动画中
			if (!$v_show.is(":animated")) {
			
				// 已经是最后一个版面，如果再往后，必须跳转到第一个版面
				if (page == page_count) {
					$v_show.animate({"left": '0px'}, "slow");
					page = 1;
				} else {
					$v_show.animate({"left": "-=" + v_width}, "slow");
					page++;
				}
				
			}
			// 步骤3：让左上角圆点随动画移动
			// 移动完后，设置到代表当前版面的圆点上即可，并且取出同辈元素中的current样式
			$(".highlight_tip span").eq(page - 1).addClass("current").siblings().removeClass("current");
		});
		
		// 步骤4：添加上一页单击事件
		$("span.prev").click(function() {
			var $v_show = $(".v_content_list");
			var $v_content = $(".v_content");
			// 获得视频展示区域的长度
			var v_width = $v_content.width();
			// 总的视频图片数
			var len = $v_show.find("li").length;
			// 页数
			var page_count = Math.ceil(len / i);
			
			// 判断“视频内容展示区域”是否处于动画中
			if (!$v_show.is(":animated")) {
			
				// 已经是第一个版面，如果再往前，必须跳转到最后一个版面
				if (page == 1) {
					$v_show.animate({"left": "-=" + v_width * (page_count - 1)}, "slow");
					page = page_count;
				} else {
					$v_show.animate({"left": "+=" + v_width}, "slow");
					page--;
				}
				
			}
			
			// 移动完后，设置到代表当前版面的圆点上即可，并且取出同辈元素中的current样式
			$(".highlight_tip span").eq(page - 1).addClass("current").siblings().removeClass("current");
		});
	});
</script>
</head>

<body>
	<div class="v_show">
		<!-- 头部标题、按钮等 -->
		<div class="v_caption">
			<!-- 标题 -->
			<h2 class="cartoon" title="卡通动漫">卡通动漫</h2>
			<!-- 展示视频页面的的圆点 -->
			<div class="highlight_tip">
				<span class="current">1</span>
				<span>2</span>
				<span>3</span>
				<span>4</span>
			</div>
			<!-- 切换页面的按钮 -->
			<div class="change_btn">
				<span class="prev">上一页</span>
				<span class="next">下一页</span>
			</div>
			<!-- 右侧更多超链接 -->
			<em><a href="#">更多</a></em>
		</div>
		
		<!-- 视频展示区域-->
		<div class="v_content">
			<div class="v_content_list">
				<ul>
					<!-- 海贼王 -->
					<li>
						<a href="#"><img src="../img/01.jpg" alt="海贼王"/></a>
						<h4><a href="#">海贼王</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					<li>
						<a href="#"><img src="../img/01.jpg" alt="海贼王"/></a>
						<h4><a href="#">海贼王</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					<li>
						<a href="#"><img src="../img/01.jpg" alt="海贼王"/></a>
						<h4><a href="#">海贼王</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					<li>
						<a href="#"><img src="../img/01.jpg" alt="海贼王"/></a>
						<h4><a href="#">海贼王</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					
					<!-- 哆啦A梦 -->
					<li>
						<a href="#"><img src="../img/02.jpg" alt="哆啦A梦"/></a>
						<h4><a href="#">哆啦A梦</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					<li>
						<a href="#"><img src="../img/02.jpg" alt="哆啦A梦"/></a>
						<h4><a href="#">哆啦A梦</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					<li>
						<a href="#"><img src="../img/02.jpg" alt="哆啦A梦"/></a>
						<h4><a href="#">哆啦A梦</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					<li>
						<a href="#"><img src="../img/02.jpg" alt="哆啦A梦"/></a>
						<h4><a href="#">哆啦A梦</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					
					<!-- 火影忍者 -->
					<li>
						<a href="#"><img src="../img/03.jpg" alt="火影忍者"/></a>
						<h4><a href="#">火影忍者</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					<li>
						<a href="#"><img src="../img/03.jpg" alt="火影忍者"/></a>
						<h4><a href="#">火影忍者</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					<li>
						<a href="#"><img src="../img/03.jpg" alt="火影忍者"/></a>
						<h4><a href="#">火影忍者</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					<li>
						<a href="#"><img src="../img/03.jpg" alt="火影忍者"/></a>
						<h4><a href="#">火影忍者</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					
					<!-- 龙珠 -->
					<li>
						<a href="#"><img src="../img/04.jpg" alt="龙珠"/></a>
						<h4><a href="#">龙珠</a></h4>
						<span>播放：<em>28,276</em></span>
					</li><li>
						<a href="#"><img src="../img/04.jpg" alt="龙珠"/></a>
						<h4><a href="#">龙珠</a></h4>
						<span>播放：<em>28,276</em></span>
					</li><li>
						<a href="#"><img src="../img/04.jpg" alt="龙珠"/></a>
						<h4><a href="#">龙珠</a></h4>
						<span>播放：<em>28,276</em></span>
					</li><li>
						<a href="#"><img src="../img/04.jpg" alt="龙珠"/></a>
						<h4><a href="#">龙珠</a></h4>
						<span>播放：<em>28,276</em></span>
					</li>
					
				</ul>
			</div>
		</div>
	</div>
</body>
</html>
